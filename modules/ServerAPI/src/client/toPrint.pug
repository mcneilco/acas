extends layout
block content
    div#appContainer



    script.
        window.AppLaunchParams = !{JSON.stringify(AppLaunchParams)};
        $(function() {
            var currentWindowOnload = window.onload;

            window.onload = function() {
                if (currentWindowOnload) {
                    currentWindowOnload();
                }
                //window.Todos = new TodoList()
                //window.app = new app.AppView()
                // random initialization js goes here
                // App = new app.AppView
                window.servicesHostPrefix = "";
                //TODO
                var controllerName = !{JSON.stringify(controller)};
                var ControllerClass = window[controllerName];
                if (typeof ControllerClass !== 'function') {
                    throw new Error('Unknown controller: ' + controllerName);
                }
                window.appController = new ControllerClass({
                                el: $('#appContainer')
                            });
                window.appController.render();
                //window.UtilityFunctions.prototype.convertTextAreaToDiv(window.appController);
                //window.UtilityFunctions.prototype.showInactiveTabsInfoToPrint(window.appController);
            };
        });
